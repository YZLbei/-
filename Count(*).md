# Count(*)

## count(*)的实现方式

MyISAM引擎把一个表的总行数存在了磁盘上，因此执行count(*)的时候会直接返回这个数， 效率很高； 

而InnoDB引擎就麻烦了，它执行count(*)的时候，需要把数据一行一行地从引擎里面读出来，然后累积计数。 



但是加了过滤条件，MyISAM也不会很快
## 为什么InnoDB要这样

因为MVCC（多版本并发控制），同一时刻的多个查询返回也不能确定返回多少行



优化：因为主键索引和普通索引，遍历的结果是相同的，而普通索引的树更小，所以MySQL优化器会找到最小的那棵树来遍历

**在保证逻辑正确的前提下，尽量减少扫描的数据量，是数据库系统设计的通用法则之一**



如果频繁的需要计数，如何解决？

**只能自己计数**
